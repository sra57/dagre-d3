!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.dagreD3=t()}}(function(){return function t(e,r,n){function a(s,l){if(!r[s]){if(!e[s]){var o="function"==typeof require&&require;if(!l&&o)return o(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return a(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(t,e,r){/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
e.exports={graphlib:t("./lib/graphlib"),dagre:t("./lib/dagre"),intersect:t("./lib/intersect"),render:t("./lib/render"),util:t("./lib/util"),version:t("./lib/version")}},{"./lib/dagre":8,"./lib/graphlib":9,"./lib/intersect":10,"./lib/render":25,"./lib/util":27,"./lib/version":28}],2:[function(t,e,r){function n(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),i=a.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");s.applyStyle(i,r[n+"Style"]),r[n+"Class"]&&i.attr("class",r[n+"Class"])}function a(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),i=a.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");s.applyStyle(i,r[n+"Style"]),r[n+"Class"]&&i.attr("class",r[n+"Class"])}function i(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),i=a.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");s.applyStyle(i,r[n+"Style"]),r[n+"Class"]&&i.attr("class",r[n+"Class"])}var s=t("./util");e.exports={"default":n,normal:n,vee:a,undirected:i}},{"./util":27}],3:[function(t,e,r){function n(t,e){var r=e.nodes().filter(function(t){return a.isSubgraph(e,t)}),n=t.selectAll("g.cluster").data(r,function(t){return t});return n.selectAll("*").remove(),n.enter().append("g").attr("class","cluster").attr("id",function(t){var r=e.node(t);return r.id}).style("opacity",0),a.applyTransition(n,e).style("opacity",1),n.each(function(t){var r=e.node(t),n=d3.select(this);d3.select(this).append("rect");var a=n.append("g").attr("class","label");i(a,r,r.clusterLabelPos)}),n.selectAll("rect").each(function(t){var r=e.node(t),n=d3.select(this);a.applyStyle(n,r.style)}),a.applyTransition(n.exit(),e).style("opacity",0).remove(),n}var a=t("./util"),i=t("./label/add-label");e.exports=n},{"./label/add-label":18,"./util":27}],4:[function(t,e,r){"use strict";function n(t,e){var r=t.selectAll("g.edgeLabel").data(e.edges(),function(t){return s.edgeToId(t)}).classed("update",!0);return r.selectAll("*").remove(),r.enter().append("g").classed("edgeLabel",!0).style("opacity",0),r.each(function(t){var r=e.edge(t),n=i(l.select(this),e.edge(t),0,0).classed("label",!0),s=n.node().getBBox();r.labelId&&n.attr("id",r.labelId),a.has(r,"width")||(r.width=s.width),a.has(r,"height")||(r.height=s.height)}),s.applyTransition(r.exit(),e).style("opacity",0).remove(),r}var a=t("./lodash"),i=t("./label/add-label"),s=t("./util"),l=t("./d3");e.exports=n},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],5:[function(t,e,r){"use strict";function n(t,e,r){var n=t.selectAll("g.edgePath").data(e.edges(),function(t){return f.edgeToId(t)}).classed("update",!0);return a(e),c(n,e),u(n,e),f.applyTransition(n,e).style("opacity",1),n.each(function(t){var r=g.select(this),n=e.edge(t);n.elem=this,n.id&&r.attr("id",n.id),f.applyClass(r,n["class"],(r.classed("update")?"update ":"")+"edgePath")}),n.selectAll("path.path").each(function(t){var r=e.edge(t);r.arrowheadId=p.uniqueId("arrowhead");var n=g.select(this).attr("marker-end",function(){return"url("+s(location.href,r.arrowheadId)+")"}).style("fill","none");f.applyTransition(n,e).attr("d",function(t){return l(e,t)}),f.applyStyle(n,r.style)}),n.selectAll("defs *").remove(),n.selectAll("defs").each(function(t){var n=e.edge(t),a=r[n.arrowhead];a(g.select(this),n.arrowheadId,n,"arrowhead")}),n}function a(t){t.edges().forEach(function(e){var r=t.edge(e),n=t.node(e.v);if(r.hasOwnProperty("categoryIndex")&&n.hasOwnProperty("numCategories")&&0!==n.numCategories){var a=t.outEdges(e.v).filter(i(t,e)),s=a.indexOf(e),l=(s+1)/(a.length+1),o=(n.width-30)/n.numCategories,d=n.x-n.width/2;if(r.points[0].x=d+o*r.categoryIndex+l*o,r.points[0].y=n.y+n.height/2,e.v!==e.w&&t.graph().hasOwnProperty("ranksep"))r.points[1].y=Math.max(r.points[1].y,r.points[0].y+t.graph().ranksep-20);else{var c,u=r.points[0],p=u.x,h=u.y+50;c=u.x<n.x?n.x-n.width/2-50:n.x+n.width/2+50;var f,g=h,y=c,v=n.y;f=u.x<n.x?y+50:y-50;var x=v;r.points=[r.points[0],{x:p,y:h},{x:c,y:g},{x:y,y:v},{x:f,y:x}]}}})}function i(t,e){return function(r){return t.edge(e).categoryIndex===t.edge(r).categoryIndex}}function s(t,e){var r=t.split("#")[0];return r+"#"+e}function l(t,e){var r,n=t.edge(e),a=t.node(e.v),i=t.node(e.w);return n.hasOwnProperty("categoryIndex")&&a.hasOwnProperty("numCategories")?r=n.points.slice(0,n.points.length-1):(r=n.points.slice(1,n.points.length-1),r.unshift(h(a,r[0]))),r.push(h(i,r[r.length-1])),o(n,r)}function o(t,e){var r=g.svg.line().x(function(t){return t.x}).y(function(t){return t.y});return p.has(t,"lineInterpolate")&&r.interpolate(t.lineInterpolate),p.has(t,"lineTension")&&r.tension(Number(t.lineTension)),r(e)}function d(t){var e=t.getBBox(),r=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:r.e,y:r.f}}function c(t,e){var r=t.enter().append("g").attr("class","edgePath").style("opacity",0);r.append("path").attr("class","path").attr("d",function(t){var r=e.edge(t),n=e.node(t.v).elem,a=p.range(r.points.length).map(function(){return d(n)});return o(r,a)}),r.append("defs")}function u(t,e){var r=t.exit();f.applyTransition(r,e).style("opacity",0).remove(),f.applyTransition(r.select("path.path"),e).attr("d",function(t){var r=e.node(t.v);if(r){var n=p.range(this.getTotalLength()).map(function(){return r});return o({},n)}return g.select(this).attr("d")})}var p=t("./lodash"),h=t("./intersect/intersect-node"),f=t("./util"),g=t("./d3");e.exports=n},{"./d3":7,"./intersect/intersect-node":14,"./lodash":21,"./util":27}],6:[function(t,e,r){"use strict";function n(t,e,r){var n=e.nodes().filter(function(t){return!s.isSubgraph(e,t)}),o=t.selectAll("g.node").data(n,function(t){return t}).classed("update",!0);return o.selectAll("*").remove(),o.enter().append("g").attr("class","node").style("opacity",0),o.each(function(t){var n=e.node(t),o=l.select(this),d=o.append("g").attr("class","label"),c=i(d,n),u=r[n.shape],p=a.pick(c.node().getBBox(),"width","height");n.elem=this,n.id&&o.attr("id",n.id),n.labelId&&d.attr("id",n.labelId),s.applyClass(o,n["class"],(o.classed("update")?"update ":"")+"node"),a.has(n,"width")&&(p.width=n.width),a.has(n,"height")&&(p.height=n.height),p.width+=n.paddingLeft+n.paddingRight,p.height+=n.paddingTop+n.paddingBottom,d.attr("transform","translate("+(n.paddingLeft-n.paddingRight)/2+","+(n.paddingTop-n.paddingBottom)/2+")");var h=u(l.select(this),p,n);s.applyStyle(h,n.style);var f=h.node().getBBox();n.width=f.width,n.height=f.height}),s.applyTransition(o.exit(),e).style("opacity",0).remove(),o}var a=t("./lodash"),i=t("./label/add-label"),s=t("./util"),l=t("./d3");e.exports=n},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],7:[function(t,e,r){e.exports=window.d3},{}],8:[function(t,e,r){var n;if(t)try{n=t("dagre")}catch(a){}n||(n=window.dagre),e.exports=n},{dagre:void 0}],9:[function(t,e,r){var n;if(t)try{n=t("graphlib")}catch(a){}n||(n=window.graphlib),e.exports=n},{graphlib:void 0}],10:[function(t,e,r){e.exports={node:t("./intersect-node"),circle:t("./intersect-circle"),ellipse:t("./intersect-ellipse"),polygon:t("./intersect-polygon"),rect:t("./intersect-rect")}},{"./intersect-circle":11,"./intersect-ellipse":12,"./intersect-node":14,"./intersect-polygon":15,"./intersect-rect":16}],11:[function(t,e,r){function n(t,e,r){return a(t,e,e,r)}var a=t("./intersect-ellipse");e.exports=n},{"./intersect-ellipse":12}],12:[function(t,e,r){function n(t,e,r,n){var a=t.x,i=t.y,s=a-n.x,l=i-n.y,o=Math.sqrt(e*e*l*l+r*r*s*s),d=Math.abs(e*r*s/o);n.x<a&&(d=-d);var c=Math.abs(e*r*l/o);return n.y<i&&(c=-c),{x:a+d,y:i+c}}e.exports=n},{}],13:[function(t,e,r){function n(t,e,r,n){var i,s,l,o,d,c,u,p,h,f,g,y,v,x,b;return i=e.y-t.y,l=t.x-e.x,d=e.x*t.y-t.x*e.y,h=i*r.x+l*r.y+d,f=i*n.x+l*n.y+d,0!==h&&0!==f&&a(h,f)||(s=n.y-r.y,o=r.x-n.x,c=n.x*r.y-r.x*n.y,u=s*t.x+o*t.y+c,p=s*e.x+o*e.y+c,0!==u&&0!==p&&a(u,p)||(g=i*o-s*l,0===g))?void 0:(y=Math.abs(g/2),v=l*c-o*d,x=0>v?(v-y)/g:(v+y)/g,v=s*d-i*c,b=0>v?(v-y)/g:(v+y)/g,{x:x,y:b})}function a(t,e){return t*e>0}e.exports=n},{}],14:[function(t,e,r){function n(t,e){return t.intersect(e)}e.exports=n},{}],15:[function(t,e,r){function n(t,e,r){var n=t.x,i=t.y,s=[],l=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;e.forEach(function(t){l=Math.min(l,t.x),o=Math.min(o,t.y)});for(var d=n-t.width/2-l,c=i-t.height/2-o,u=0;u<e.length;u++){var p=e[u],h=e[u<e.length-1?u+1:0],f=a(t,r,{x:d+p.x,y:c+p.y},{x:d+h.x,y:c+h.y});f&&s.push(f)}return s.length?(s.length>1&&s.sort(function(t,e){var n=t.x-r.x,a=t.y-r.y,i=Math.sqrt(n*n+a*a),s=e.x-r.x,l=e.y-r.y,o=Math.sqrt(s*s+l*l);return o>i?-1:i===o?0:1}),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}var a=t("./intersect-line");e.exports=n},{"./intersect-line":13}],16:[function(t,e,r){function n(t,e){var r,n,a=t.x,i=t.y,s=e.x-a,l=e.y-i,o=t.width/2,d=t.height/2;return Math.abs(l)*o>Math.abs(s)*d?(0>l&&(d=-d),r=0===l?0:d*s/l,n=d):(0>s&&(o=-o),r=o,n=0===s?0:o*l/s),{x:a+r,y:i+n}}e.exports=n},{}],17:[function(t,e,r){function n(t,e){var r=t.append("foreignObject").attr("width","100000"),n=r.append("xhtml:div");n.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":n.insert(i);break;case"object":n.insert(function(){return i});break;default:n.html(i)}a.applyStyle(n,e.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap");var s=n[0][0].getBoundingClientRect();return r.attr("width",s.width).attr("height",s.height),r}var a=t("../util");e.exports=n},{"../util":27}],18:[function(t,e,r){function n(t,e,r){var n=e.label,l=t.append("g");"svg"===e.labelType?s(l,e):"string"!=typeof n||"html"===e.labelType?i(l,e):a(l,e);var o,d=l.node().getBBox();switch(r){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-d.height;break;default:o=-d.height/2}return l.attr("transform","translate("+-d.width/2+","+o+")"),l}var a=t("./add-text-label"),i=t("./add-html-label"),s=t("./add-svg-label");e.exports=n},{"./add-html-label":17,"./add-svg-label":19,"./add-text-label":20}],19:[function(t,e,r){function n(t,e){var r=t;return r.node().appendChild(e.label),a.applyStyle(r,e.labelStyle),r}var a=t("../util");e.exports=n},{"../util":27}],20:[function(t,e,r){function n(t,e){for(var r=t.append("text"),n=a(e.label).split("\n"),s=0;s<n.length;s++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(n[s]);return i.applyStyle(r,e.labelStyle),r}function a(t){for(var e,r="",n=!1,a=0;a<t.length;++a)if(e=t[a],n){switch(e){case"n":r+="\n";break;default:r+=e}n=!1}else"\\"===e?n=!0:r+=e;return r}var i=t("../util");e.exports=n},{"../util":27}],21:[function(t,e,r){var n;if(t)try{n=t("lodash")}catch(a){}n||(n=window._),e.exports=n},{lodash:void 0}],22:[function(t,e,r){"use strict";function n(t,e){function r(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}var n=t.filter(function(){return!i.select(this).classed("update")});n.attr("transform",r),a.applyTransition(t,e).style("opacity",1).attr("transform",r),a.applyTransition(n.selectAll("rect"),e).attr("width",function(t){return e.node(t).width}).attr("height",function(t){return e.node(t).height}).attr("x",function(t){var r=e.node(t);return-r.width/2}).attr("y",function(t){var r=e.node(t);return-r.height/2})}var a=t("./util"),i=t("./d3");e.exports=n},{"./d3":7,"./util":27}],23:[function(t,e,r){"use strict";function n(t,e){function r(t){var r=e.edge(t);return s.has(r,"x")?"translate("+r.x+","+r.y+")":""}var n=t.filter(function(){return!i.select(this).classed("update")});n.attr("transform",r),a.applyTransition(t,e).style("opacity",1).attr("transform",r)}var a=t("./util"),i=t("./d3"),s=t("./lodash");e.exports=n},{"./d3":7,"./lodash":21,"./util":27}],24:[function(t,e,r){"use strict";function n(t,e){function r(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}var n=t.filter(function(){return!i.select(this).classed("update")});n.attr("transform",r),a.applyTransition(t,e).style("opacity",1).attr("transform",r)}var a=t("./util"),i=t("./d3");e.exports=n},{"./d3":7,"./util":27}],25:[function(t,e,r){function n(){var e=t("./create-nodes"),r=t("./create-clusters"),n=t("./create-edge-labels"),l=t("./create-edge-paths"),d=t("./position-nodes"),c=t("./position-edge-labels"),u=t("./position-clusters"),p=t("./shapes"),h=t("./arrows"),f=function(t,f){a(f);var g=s(t,"output"),y=s(g,"clusters"),v=s(g,"edgePaths"),x=n(s(g,"edgeLabels"),f),b=e(s(g,"nodes"),f,p);o(f),d(b,f),c(x,f),l(v,f,h);var w=r(y,f);u(w,f),i(f)};return f.createNodes=function(t){return arguments.length?(e=t,f):e},f.createClusters=function(t){return arguments.length?(r=t,f):r},f.createEdgeLabels=function(t){return arguments.length?(n=t,f):n},f.createEdgePaths=function(t){return arguments.length?(l=t,f):l},f.shapes=function(t){return arguments.length?(p=t,f):p},f.arrows=function(t){return arguments.length?(h=t,f):h},f}function a(t){t.nodes().forEach(function(e){var r=t.node(e);l.has(r,"label")||t.children(e).length||(r.label=e),l.has(r,"paddingX")&&l.defaults(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),l.has(r,"paddingY")&&l.defaults(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),l.has(r,"padding")&&l.defaults(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),l.defaults(r,d),l.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(t){r[t]=Number(r[t])}),l.has(r,"width")&&(r._prevWidth=r.width),l.has(r,"height")&&(r._prevHeight=r.height)}),t.edges().forEach(function(e){var r=t.edge(e);l.has(r,"label")||(r.label=""),l.defaults(r,c)})}function i(t){l.each(t.nodes(),function(e){var r=t.node(e);l.has(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,l.has(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight})}function s(t,e){var r=t.select("g."+e);return r.empty()&&(r=t.append("g").attr("class",e)),r}var l=t("./lodash"),o=t("./dagre").layout;e.exports=n;var d={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},c={arrowhead:"normal",lineInterpolate:"linear"}},{"./arrows":2,"./create-clusters":3,"./create-edge-labels":4,"./create-edge-paths":5,"./create-nodes":6,"./dagre":8,"./lodash":21,"./position-clusters":22,"./position-edge-labels":23,"./position-nodes":24,"./shapes":26}],26:[function(t,e,r){"use strict";function n(t,e,r){var n=t.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return r.intersect=function(t){return l(r,t)},n}function a(t,e,r){var n=e.width/2,a=e.height/2,i=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",n).attr("ry",a);return r.intersect=function(t){return o(r,n,a,t)},i}function i(t,e,r){var n=Math.max(e.width,e.height)/2,a=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",n);return r.intersect=function(t){return d(r,n,t)},a}function s(t,e,r){var n=e.width*Math.SQRT2/2,a=e.height*Math.SQRT2/2,i=[{x:0,y:-a},{x:-n,y:0},{x:0,y:a},{x:n,y:0}],s=t.insert("polygon",":first-child").attr("points",i.map(function(t){return t.x+","+t.y}).join(" "));return r.intersect=function(t){return c(r,i,t)},s}var l=t("./intersect/intersect-rect"),o=t("./intersect/intersect-ellipse"),d=t("./intersect/intersect-circle"),c=t("./intersect/intersect-polygon");e.exports={rect:n,ellipse:a,circle:i,diamond:s}},{"./intersect/intersect-circle":11,"./intersect/intersect-ellipse":12,"./intersect/intersect-polygon":15,"./intersect/intersect-rect":16}],27:[function(t,e,r){function n(t,e){return!!t.children(e).length}function a(t){return i(t.v)+":"+i(t.w)+":"+i(t.name)}function i(t){return t?String(t).replace(c,"\\:"):""}function s(t,e){e&&t.attr("style",e)}function l(t,e,r){e&&t.attr("class",e).attr("class",r+" "+t.attr("class"))}function o(t,e){var r=e.graph();if(d.isPlainObject(r)){var n=r.transition;if(d.isFunction(n))return n(t)}return t}var d=t("./lodash");e.exports={isSubgraph:n,edgeToId:a,applyStyle:s,applyClass:l,applyTransition:o};var c=/:/g},{"./lodash":21}],28:[function(t,e,r){e.exports="0.4.18-pre"},{}]},{},[1])(1)});
//# sourceMappingURL=dagre-d3.core.min.js.map
